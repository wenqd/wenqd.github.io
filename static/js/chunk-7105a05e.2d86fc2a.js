(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7105a05e"],{"9bf94":function(t,e,i){},b3db:function(t,e,i){"use strict";var o=i("9bf94"),a=i.n(o);a.a},bf5b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"myVchr"},[i("h2",[t._v("我的单据")]),t._v(" "),i("div",{staticClass:"table9"},[i("vxe-grid",{ref:"vGrid",staticClass:"vxe-table-element",attrs:{size:"mini",stripe:"",storage:"",resizable:"",width:"auto","header-align":"center",height:t.gridHeight,"show-header-overflow":!0,data:t.gridData,"highlight-current-row":!0,"highlight-hover-row":!0,toolbar:t.tableToolbar,columns:t.colmodels,customs:t.customs,"edit-config":{trigger:"click",mode:"cell",showStatus:!0,activeMethod:function(){return!1}}},on:{"cell-click":t.cellClick},scopedSlots:t._u([{key:"buttons",fn:function(){return[i("el-button",{attrs:{size:"mini"},on:{click:t.addRow}},[t._v("新增")]),t._v(" "),i("el-button",{attrs:{size:"mini"},on:{click:t.deleteRow}},[t._v("删除")])]},proxy:!0}])})],1)])},a=[],n=i("debc"),r=i.n(n),s=i("da30"),c=i("e6bb"),l={name:"Vgrid",components:{},props:{},data:function(){return{gridHeight:"600",colmodels:[],rawData:[],gridData:[],girdInfo:{},customs:[],tableToolbar:{id:"gridToolbar",refresh:!1,resizable:{storage:!0},setting:{storage:!0}}}},watch:{},created:function(){var t=this;this.getData(),this.gridHeight=document.documentElement.clientHeight-160,r()(window).resize((function(){t.gridHeight=document.documentElement.clientHeight-160}))},methods:{getData:function(){var t=this,e={info:{stoID:"PY_XCFFJTD",vcrID:"PY_XCFFJTD",stoFilter:[]}};Object(s["a"])(e).then((function(e){t.loading=!1,t.colmodels=Object(c["a"])(e.data.layout).colmodels,t.customs=Object(c["a"])(e.data.layout).customs,t.rawData=JSON.parse(JSON.stringify(e.data.rows)),t.gridData=e.data.rows,t.pagerInfo=e.data.pager,t.girdInfo=e.data.info,t.setFieldLink(t.girdInfo.IdField)})).catch((function(t){console.log(t)}))},getRecordset:function(){var t=this.$refs.vGrid.getTableData();this.gridData=t.fullData;var e={colmodels:this.colmodels,girdInfo:this.girdInfo,rawData:this.rawData,gridData:t.fullData};return e},cellClick:function(t,e){var i=t.row,o=(t.rowIndex,t.$rowIndex,t.column);t.columnIndex,t.$columnIndex,t.cell;if(o.own.Name===this.girdInfo.IdField){var a=i.F_ID,n=i.F_DJLX;this.openVhr(a,n)}},setFieldLink:function(t){var e=this.$createElement;r.a.each(this.colmodels,(function(i,o){o.field===t&&(o.slots={default:function(i){var o=i.row;i.column;return[e("a",{class:"link",attrs:{href:" javascript: void ( 0 );"},style:"text-decoration:underline"},[o[t]])]}})}))},openVhr:function(t,e){var i=this,o={dctID:"IC_BX_DJLX"},a={},n={sqlWhere:"ZD.F_BH='"+e+"'"};Object(s["e"])(o,a,n).then((function(o){var a=o.data.rows;a.length>0&&i.$router.push({path:"/vchr/GLYWJTJXSJTD",query:{bzid:a[0].F_BZ_ID,stoid:a[0].F_STO_ID,caption:encodeURI(a[0].F_MC),djbh:t,djlx:e}})})).catch((function(t){console.log(t)}))},addRow:function(){var t=this,e={F_ID:Date.now(),F_ZDSJ:"",F_DJLX:""};this.$refs.vGrid.insertAt(e,-1).then((function(e){var i=e.row;console.info(i),t.$refs.vGrid.setActiveRow(i)}))},deleteRow:function(){this.$refs.vGrid.removeSelecteds()},saveAfter:function(){this.rawData=JSON.parse(JSON.stringify(this.gridData))}}},d=l,u=(i("b3db"),i("4e82")),h=Object(u["a"])(d,o,a,!1,null,"7e67b9be",null);e["default"]=h.exports}}]);